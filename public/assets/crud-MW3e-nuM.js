import{c as i,i as s}from"../js/app.js";i({icons:s});function u(){document.getElementById("crud-delete-filter")?.addEventListener("click",function(r){r.preventDefault();const t=document.querySelector("form#crud-filter-form");if(!t)return;t.querySelectorAll(".filter").forEach(o=>{o.type==="checkbox"||o.type==="radio"?o.checked=!1:o.value="",o.tagName==="SELECT"&&(o.selectedIndex=0)});const a=t.getAttribute("action")?.split("?")[0]||window.location.pathname;new FormData(t);const l=new URLSearchParams;["perpage","page","sort","orderby"].forEach(o=>{const c=t.querySelector(`[name="${o}"]`)?.value;c&&l.append(o,c)});const d=l.toString()?`${a}?${l.toString()}`:a;window.barba.go(d)}),document.getElementById("crud-per-page").addEventListener("change",function(){const r=this.value,t=new URL(window.location.href);t.searchParams.set("perpage",r),window.barba.go(t.toString())});let n=null;document.querySelectorAll(".crud-btn-delete").forEach(r=>{r.addEventListener("click",function(t){t.preventDefault(),n=r.closest("form");const e=document.getElementById("modal-all"),a=new bootstrap.Modal(e);e.querySelector(".modal-header").classList.add("text-white","bg-danger","border-bottom-0"),e.querySelector(".modal-title").innerHTML="Hapus Data",e.querySelector(".modal-body").classList.add("text-white","bg-danger"),e.querySelector(".modal-body").innerHTML="Anda yakin ingin menghapus data ini?",e.querySelector(".modal-footer").classList.add("text-white","bg-danger","border-top-0"),e.querySelector(".btn-close-modal").classList.add("btn-danger","border-0"),e.querySelector(".btn-close-modal").innerHTML="Batal",e.querySelector(".btn-action-modal").classList.add("btn-light"),e.querySelector(".btn-action-modal").innerHTML="Ya, Yakin",a.show()})}),document.querySelector(".btn-action-modal").addEventListener("click",function(r){n&&n.submit()})}const f=u;export{f as __keep,u as init};

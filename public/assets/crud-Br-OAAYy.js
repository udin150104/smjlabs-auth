import{c as i,i as s}from"../js/app.js";i({icons:s});function m(){document.getElementById("crud-delete-filter")?.addEventListener("click",function(a){const o=document.querySelector("form#crud-filter-form");if(!o)return;o.querySelectorAll(".filter").forEach(e=>{e.type==="checkbox"||e.type==="radio"?e.checked=!1:e.value="",e.tagName==="SELECT"&&(e.selectedIndex=0)}),document.querySelectorAll(".tom-select").forEach(e=>{const r=e.tomselect;r&&r.clear()}),document.querySelectorAll(".tom-select-ajax").forEach(e=>{const r=e.tomselect;r&&r.clear()});const n=o.getAttribute("action")?.split("?")[0]||window.location.pathname;new FormData(o);const l=new URLSearchParams;["perpage","page","sort","orderby"].forEach(e=>{const r=o.querySelector(`[name="${e}"]`)?.value;r&&l.append(e,r)});const d=l.toString()?`${n}?${l.toString()}`:n;window.barba&&window.barba.go&&window.barba.go(d,{force:!0})}),document.getElementById("crud-per-page").addEventListener("change",function(){const a=this.value,o=new URL(window.location.href);o.searchParams.set("perpage",a),window.barba.go(o.toString())});let c=null;document.querySelectorAll(".crud-btn-delete").forEach(a=>{a.addEventListener("click",function(o){o.preventDefault(),c=a.closest("form");const t=document.getElementById("modal-all"),n=new bootstrap.Modal(t);t.querySelector(".modal-header").classList.add("text-white","bg-danger","border-bottom-0"),t.querySelector(".modal-title").innerHTML="Hapus Data",t.querySelector(".modal-body").classList.add("text-white","bg-danger"),t.querySelector(".modal-body").innerHTML="Anda yakin ingin menghapus data ini?",t.querySelector(".modal-footer").classList.add("text-white","bg-danger","border-top-0"),t.querySelector(".btn-close-modal").classList.add("btn-danger","border-0"),t.querySelector(".btn-close-modal").innerHTML="Batal",t.querySelector(".btn-action-modal").classList.add("btn-light"),t.querySelector(".btn-action-modal").innerHTML="Ya, Yakin",n.show()})}),document.querySelector(".btn-action-modal").addEventListener("click",function(a){c&&c.submit()})}const f=m;export{f as __keep,m as init};
